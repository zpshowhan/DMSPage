<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>权限列表</title>
<link rel="shortcut icon" href="favicon.ico">
<link href="../../css/animate.min.css" rel="stylesheet">
<link href="../../css/style.min862f.css?v=4.1.0" rel="stylesheet">
<link href="../../css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
 <link href="../../css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">  
<link href="../../css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
<link href="../../css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
<link href="../../js/plugins/layer/skin/layer.css" rel="stylesheet">
<link href="../../css/admin.min.css" rel="stylesheet">
<link href="../../css/plugins/jsTree/style.min.css" rel="stylesheet">
<style>
/* Additional style to fix warning dialog position */
#alertmod_table_list_2 {
	top: 900px !important;
}
.ui-jqgrid-sortable {
    text-align: center;
}
</style>
</head>
<body class="gray-bg">
	<div class="row">
		<div class="col-sm-12">
			<div class="ibox float-e-margins">
				<div class="ibox-content">
          <form class="form-horizontal m-t">
          <div class="form-group">
            <label class="col-sm-2 control-label">角色描述：</label>
            <div class="col-sm-10">
                <textarea id="roleDesc" name="roleDesc" class="form-control" required="" aria-required="true"></textarea>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">角色权限：</label>
            <div class="col-sm-10">
              <div id="auth_tree" >
              </div>
            </div>
				  </div>
          </form>
			  </div>
		</div>
		</div>
	</div>
	<script src="../../js/jquery.min.js?v=2.1.4"></script>	
	<script src="../../js/bootstrap.min.js?v=3.3.6"></script>
    <script src="../../js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="../../js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
    <script src="../../js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
	 <script src="../../js/demo/bootstrap-table-demo.min.js"></script>
	<script src="../../js/plugins/peity/jquery.peity.min.js"></script>
	<script src="../../js/plugins/jqgrid/i18n/grid.locale-cnffe4.js?0820"></script>
	<script src="../../js/plugins/jqgrid/jquery.jqGrid.minffe4.js?0820"></script>
	<script src="../../js/plugins/layer/layer.min.js"></script>	
	<script src="../../js/demo/layer-demo.min.js"></script>	
	<script src="../../js/content.min.js"></script>
	<script src="../../js/plugins/sweetalert/sweetalert.min.js"></script>
    <script src="../../js/plugins/jsTree/jstree.min.js"></script>
    <script src="../../js/plugins/treeview/bootstrap-treeview.js"></script>

<script  type="text/javascript">

$(function(){

var $checkableTree = $('#auth_tree').treeview({
          data: getTreeData(),
          showIcon: false,
          showCheckbox: true,
		      selectedColor: 'blue',
		      selectedBackColor: '#FFFFFF',
          multiSelect:true,
          onNodeChecked: function(event, node) {
            //$('#checkable-output').prepend('<p>' + node.text + ' was checked</p>');
			      //console.info(node.text + ' was checked!');
            $checkableTree.treeview('selectNode', [ node.nodeId, { silent: true } ]);
          },
          onNodeUnchecked: function (event, node) {
            //$('#checkable-output').prepend('<p>' + node.text + ' was unchecked</p>');
		      	//console.info(node.text + ' was unchecked!');
            //node.color = 'black';
            $checkableTree.treeview('unselectNode', [ node.nodeId, { silent: true } ]);
          },
          onNodeSelected: function(event,node) {
            $checkableTree.treeview('checkNode', [ node.nodeId, { silent: true } ]);
          },
          onNodeUnselected: function(event,node) {
            $checkableTree.treeview('uncheckNode', [ node.nodeId, { silent: true } ]);
          }
        });	

        $checkableTree.treeview('expandAll', { silent: true });
});

function getTreeData() {
	var d =  '[' +
          '{' +
            '"text": "文档协同",' +
            '"nodes": [' +
              '{' +
                '"text": "发起协同"' +
              '},' +
              '{' +
                '"text": "我的协同"' +
              '}' +
             ']' +
           '},' +
			'{' +
                '"text": "待办事项",' +
                '"nodes": [' +
                  '{' +
                    '"text": "搜索"' +
                  '},' +
                  '{' +
                    '"text": "审核"' +
                  '}' +
                ']' +
          '},' +
          '{' +
            '"text": "文档管理",' +
			 '"nodes": [' +
              '{' +
                '"text": "文档列表",' +
                '"nodes": [' +
                  '{' +
                    '"text": "文档查看"' +
              	   '},' +
                  '{' +
                    '"text": "文档搜索"' +	
              	   '},' +
                  '{' +				
                    '"text": "文档下载"' +
              	   '},' +
                  '{' +					
                    '"text": "文档分享"' +
                  '}' +
                ']' +
              '},' +
              '{' +
                '"text": "文档库"' +
              '},' +
			  '{' +
                '"text": "文档检索",' +
                '"nodes": [' +
                  '{' +
                    '"text": "高级搜索"' +
              	   '},' +
                  '{' +
					'"text": "全文搜索"' +
                  '}' +
                ']' +
              '},' +
              '{' +
                '"text": "文档入库"' +
              '}' +
            ']' +
          '},' +
          '{' +
            '"text": "资产管理",' +
			 '"nodes": [' +
              '{' +
                '"text": "资产入库"' +
              '},' +
              '{' +
                '"text": "资产库"' +
              '},' +
			  '{' +
                '"text": "资产检索",' +
                '"nodes": [' +
                  '{' +
                    '"text": "高级搜索"' +
                  '}' +
                ']' +
              '}' +
            ']' +
          '},' +
          '{' +
            '"text": "审计管理"' +
          '},' +
          '{' +
            '"text": "流程管理"' +
          '},' +
          '{' +
            '"text": "日志管理"' +
          '},' +
          '{' +
            '"text": "权限管理"' +
          '},' +
          '{' +
            '"text": "系统管理"' +
          '}' +
        ']';
		return d;
}
/*
function lineFormatter(value, row,index) {
	return index+1;
}

function operFormatter(value, row, index) {
	return '<a onclick="editRole(\''+index+'\')"><i class="fa fa-edit"></i>&nbsp;编辑</a>';
}


function editRole(index) {
	var index= layer.open({
		type: 2,
		title: '编辑权限',
		shadeClose: false,
		shade: false,
		maxmin: true,
		moveType: 1,//拖拽风格，0是默认，1是传统拖动
		//shift: 1,
		area: ['80%', '80%'],
		content: 'accessRecord_query.html' //iframe的url
	});
}*/
	</script>
</body>
</html>
